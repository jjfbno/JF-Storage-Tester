<UserControl x:Class="JFStorageTester.Views.SpeedTestView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:JFStorageTester.ViewModels"
             Background="{DynamicResource PrimaryBackgroundBrush}">
    
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Options -->
        <Border Grid.Row="0" 
                Style="{StaticResource CardStyle}"
                Margin="0,0,0,12">
            <StackPanel Orientation="Horizontal">
                <CheckBox Content="Include Write Tests"
                          IsChecked="{Binding IncludeWriteTests}"
                          IsEnabled="{Binding IsNotRunning}"
                          Foreground="{DynamicResource PrimaryTextBrush}"
                          VerticalAlignment="Center"/>
                <TextBlock Text="(creates a temporary 256 MB test file)"
                           Style="{StaticResource BodyTextStyle}"
                           Foreground="{DynamicResource SecondaryTextBrush}"
                           Margin="8,0,0,0"
                           VerticalAlignment="Center"/>
            </StackPanel>
        </Border>
        
        <!-- Speed Test Results Grid -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- Sequential Read -->
            <Border Grid.Column="0" Grid.Row="0"
                    Style="{StaticResource CardStyle}"
                    Margin="0,0,6,6">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Grid.Row="0" 
                               Text="SEQUENTIAL READ" 
                               Style="{StaticResource LabelTextStyle}"
                               FontSize="11"
                               HorizontalAlignment="Center"/>
                    
                    <StackPanel Grid.Row="1" 
                                VerticalAlignment="Center" 
                                HorizontalAlignment="Center">
                        <TextBlock HorizontalAlignment="Center"
                                   FontFamily="{StaticResource MonoFont}"
                                   FontSize="42"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource AccentBrush}"
                                   Text="{Binding SequentialReadDisplay}"/>
                        <TextBlock Text="MB/s"
                                   HorizontalAlignment="Center"
                                   Style="{StaticResource BodyTextStyle}"
                                   Foreground="{DynamicResource SecondaryTextBrush}"/>
                    </StackPanel>
                    
                    <TextBlock Grid.Row="2" 
                               Text="1 MB Block Size"
                               Style="{StaticResource BodyTextStyle}"
                               FontSize="10"
                               Foreground="{DynamicResource SecondaryTextBrush}"
                               HorizontalAlignment="Center"/>
                </Grid>
            </Border>
            
            <!-- Sequential Write -->
            <Border Grid.Column="1" Grid.Row="0"
                    Style="{StaticResource CardStyle}"
                    Margin="6,0,0,6"
                    Visibility="{Binding WriteTestsVisibility}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Grid.Row="0" 
                               Text="SEQUENTIAL WRITE" 
                               Style="{StaticResource LabelTextStyle}"
                               FontSize="11"
                               HorizontalAlignment="Center"/>
                    
                    <StackPanel Grid.Row="1" 
                                VerticalAlignment="Center" 
                                HorizontalAlignment="Center">
                        <TextBlock HorizontalAlignment="Center"
                                   FontFamily="{StaticResource MonoFont}"
                                   FontSize="42"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource SuccessBrush}"
                                   Text="{Binding SequentialWriteDisplay}"/>
                        <TextBlock Text="MB/s"
                                   HorizontalAlignment="Center"
                                   Style="{StaticResource BodyTextStyle}"
                                   Foreground="{DynamicResource SecondaryTextBrush}"/>
                    </StackPanel>
                    
                    <TextBlock Grid.Row="2" 
                               Text="1 MB Block Size"
                               Style="{StaticResource BodyTextStyle}"
                               FontSize="10"
                               Foreground="{DynamicResource SecondaryTextBrush}"
                               HorizontalAlignment="Center"/>
                </Grid>
            </Border>
            
            <!-- Random 4K Read -->
            <Border Grid.Column="0" Grid.Row="1"
                    Style="{StaticResource CardStyle}"
                    Margin="0,6,6,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Grid.Row="0" 
                               Text="RANDOM 4K READ" 
                               Style="{StaticResource LabelTextStyle}"
                               FontSize="11"
                               HorizontalAlignment="Center"/>
                    
                    <StackPanel Grid.Row="1" 
                                VerticalAlignment="Center" 
                                HorizontalAlignment="Center">
                        <TextBlock HorizontalAlignment="Center"
                                   FontFamily="{StaticResource MonoFont}"
                                   FontSize="42"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource AccentBrush}"
                                   Text="{Binding Random4KReadDisplay}"/>
                        <TextBlock Text="MB/s"
                                   HorizontalAlignment="Center"
                                   Style="{StaticResource BodyTextStyle}"
                                   Foreground="{DynamicResource SecondaryTextBrush}"/>
                    </StackPanel>
                    
                    <TextBlock Grid.Row="2" 
                               Text="4 KB Block Size"
                               Style="{StaticResource BodyTextStyle}"
                               FontSize="10"
                               Foreground="{DynamicResource SecondaryTextBrush}"
                               HorizontalAlignment="Center"/>
                </Grid>
            </Border>
            
            <!-- Random 4K Write -->
            <Border Grid.Column="1" Grid.Row="1"
                    Style="{StaticResource CardStyle}"
                    Margin="6,6,0,0"
                    Visibility="{Binding WriteTestsVisibility}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    
                    <TextBlock Grid.Row="0" 
                               Text="RANDOM 4K WRITE" 
                               Style="{StaticResource LabelTextStyle}"
                               FontSize="11"
                               HorizontalAlignment="Center"/>
                    
                    <StackPanel Grid.Row="1" 
                                VerticalAlignment="Center" 
                                HorizontalAlignment="Center">
                        <TextBlock HorizontalAlignment="Center"
                                   FontFamily="{StaticResource MonoFont}"
                                   FontSize="42"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource SuccessBrush}"
                                   Text="{Binding Random4KWriteDisplay}"/>
                        <TextBlock Text="MB/s"
                                   HorizontalAlignment="Center"
                                   Style="{StaticResource BodyTextStyle}"
                                   Foreground="{DynamicResource SecondaryTextBrush}"/>
                    </StackPanel>
                    
                    <TextBlock Grid.Row="2" 
                               Text="4 KB Block Size"
                               Style="{StaticResource BodyTextStyle}"
                               FontSize="10"
                               Foreground="{DynamicResource SecondaryTextBrush}"
                               HorizontalAlignment="Center"/>
                </Grid>
            </Border>
        </Grid>
        
        <!-- Control Section -->
        <Border Grid.Row="2" 
                Style="{StaticResource CardStyle}"
                Margin="0,12,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Status -->
                <StackPanel Grid.Column="0" 
                            Orientation="Horizontal" 
                            VerticalAlignment="Center">
                    <TextBlock Text="Status: "
                               Style="{StaticResource BodyTextStyle}"
                               VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding CurrentOperation}"
                               Style="{StaticResource SubheaderTextStyle}"
                               Foreground="{DynamicResource AccentBrush}"/>
                </StackPanel>
                
                <!-- Control Button -->
                <Button Grid.Column="1"
                        Content="{Binding ButtonText}"
                        Command="{Binding StartStopCommand}"
                        Style="{StaticResource ModernButtonStyle}"
                        MinWidth="140"
                        Height="36"
                        FontSize="12"/>
                
                <!-- Progress/Speed -->
                <StackPanel Grid.Column="2" 
                            Orientation="Horizontal" 
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center">
                    <TextBlock Text="Progress: "
                               Style="{StaticResource BodyTextStyle}"
                               VerticalAlignment="Center"/>
                    <TextBlock Style="{StaticResource ValueTextStyle}"
                               FontFamily="{StaticResource MonoFont}"
                               VerticalAlignment="Center">
                        <Run Text="{Binding ProgressPercent, StringFormat={}{0:F0}}"/><Run Text="%"/>
                    </TextBlock>
                    <TextBlock Text=" | "
                               Style="{StaticResource BodyTextStyle}"
                               Foreground="{DynamicResource SecondaryTextBrush}"
                               VerticalAlignment="Center"/>
                    <TextBlock Style="{StaticResource ValueTextStyle}"
                               FontFamily="{StaticResource MonoFont}"
                               VerticalAlignment="Center">
                        <Run Text="{Binding CurrentSpeed, StringFormat={}{0:F1}}"/><Run Text=" MB/s"/>
                    </TextBlock>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>



